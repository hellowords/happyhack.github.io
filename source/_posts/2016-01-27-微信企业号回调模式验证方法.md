---
title: 微信企业号回调模式验证方法
tags:
  - 微信
id: 129
categories:
  - 干货
date: 2016-01-27 15:11:50
updated: 2016-10-23 03:36:13
---

申请了一个微信企业号之后，准备做一个应用，可以从微信上来与公司服务器进行相关的业务访问。

首先进去企业号后台，添加通讯录，给人员划分分组，方便管理。

在企业号的后台的应用中心中添加一个应用，按需添加。（消息型应用可以通过微信与第三方服务器进行交互）

在回调模式中，URL验证这一块花了我不少时间。

以下是我在解决这一过程中所遇到的一些解决方法。

首先确定服务器是要用什么语言写接口，我用的PHP，所以需要增加一个`mcrypt`模块。可以用`phpinfo();`函数查看
<!-- more -->

如果没有则需要安装; 
```
sudo apt-get install php5-mcrypt   (修改配置php.ini） 
加入extension=mcrypt.so 重启服务。
```

其次就是写一个接口文件了，微信官方提供的接口认证文件，验证不了，我找到了一个很好的关于企业号的的接口 [demo](https://github.com/dodgepudding/wechat-php-sdk)


在此感谢作者，为我们提供这么好的一个开发微信的模板，其中企业号测试的demo在test文件夹下，按照其中的说明，接口认证轻松搞定！
